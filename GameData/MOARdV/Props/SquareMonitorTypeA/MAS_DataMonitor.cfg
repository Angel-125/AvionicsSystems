PROP
{
	name = MAS_DataMonitor

	MODEL
	{
		model = MOARdV/Props/SquareMonitorTypeA/SquareMonitorTypeA
	}
  	MODEL
	{
		model = ASET/ASET_Props/Control/Push_Button_Modular/models/pb_Collider
		scale = 2.5, 1.0, 2.5
	}

	MODULE
	{
		name = MASComponent

		// "touch screen" collider
		COLLIDER_EVENT
		{
			name = Collider
			collider = pb_Collider
			onClick = fc.SetPersistent("%AUTOID%_DM", "MAS_DM_" .. fc.AddPersistentWrapped("%AUTOID%_Page", 1, 0, 4))
			sound = ASET/ASET_Props/Sounds/pb_Push02
			volume = 1
		}
	}
	
	MODULE
	{
		name = MASMonitor

		screenTransform = MonitorScreen01 // Transform for the monitor
		textureLayerID = _Emissive        // Name of texture layer to work with on the screen surface.
		screenSize = 512, 512
		fontSize = 16, 32                 // Fixed font dimensions
		// 32 x 16 text
		font = InconsolataGo
		style = Bold
		textColor = COLOR_MFD2_TEXT // Default color of text
		backgroundColor = 4, 4, 8, 255    // Background color
		monitorID = %AUTOID%_DM
		
		// Not implemented yet:
		//variable = fc.GetPowered()
		//range = 0.5, 1.1
		//disabledColor = 0,0,0,0

		page = MAS_DM_Init
		page = MAS_DM_1
		page = MAS_DM_2
		page = MAS_DM_3
		page = MAS_DM_0
	}
}

MAS_PAGE
{
	name =  MAS_DM_Init

	// Intro page
	TEXT
	{
		name = What to do
		position = 3.5, 7.5
		text = Tap screen to change page
	}
}

MAS_PAGE
{
	// NAVBALL
	name =  MAS_DM_1

	NAVBALL
	{
		name = PFD navball
		model = ASET/ASET_Props/MFDs/ALCORPFD/NavBall
		texture = ASET/ASET_Props/MFDs/ALCORPFD/NavBall000
		position = 256, 256
		size = 512, 512
		iconScale = 1.25
	}
	IMAGE
	{
		name = Navball Mask
		texture = MOARdV/MFD/navBallMask512x512
		position = 0, 0
	}
	TEXT
	{
		name = Caption
		text = NAVBALL
	}
}

MAS_PAGE
{
	// COMMNET
	name =  MAS_DM_2
	IMAGE
	{
		texture = MOARdV/MFD/commNet160x32
		position = 8, 8
		size = 48, 48
		tiling = 0.2, 1
		uvShift = 0.2 * fc.CommNetSignalQuality(), 0
	}
	TEXT
	{
		name = Ground Station Caption
		position = 0, 3
		text = GROUND STATION:$$$$$$SIGNAL DELAY:
	}
	TEXT
	{
		name = Ground Station Name
		position = 0, 4
		text = <=0=> $&$ fc.ScrollingMarquee(fc.CommNetEndpoint(), 24, 1)
		textColor = COLOR_MFD2_TEXT_HIGHLIGHT
	}
	TEXT
	{
		name = Signal Delay
		position = 0, 6
		text = <=0:METddd/hh:mm:ss.fff=> $&$ fc.CommNetSignalDelay()
		textColor = COLOR_MFD2_TEXT_HIGHLIGHT
		variable = fc.CommNetSignalDelay() >= 0.001
	}
	
	// Tablos
	IMAGE
	{
		name = CommNet Communicate Tablo
		texture = MOARdV/MFD/frameFill6ch112x48
		position = 400, 24
		activeColor = COLOR_MFD2_TEXT_GREEN
		passiveColor = 128, 128, 128, 255
		colorVariable = fc.CommNetCanCommunicate()
	}
	TEXT
	{
		name = CommNet Communicate Status
		text = [#<=0:"00ff00";"7f7f7f"=>]VOICE $&$ fc.CommNetCanCommunicate() - 0.5
		position = 26, 1
	}

	IMAGE
	{
		name = CommNet Science Tablo
		texture = MOARdV/MFD/frameFill6ch112x48
		position = 400, 88
		activeColor = COLOR_MFD2_TEXT_GREEN
		passiveColor = 128, 128, 128, 255
		colorVariable = fc.CommNetCanScience()
	}
	TEXT
	{
		name = CommNet Science Status
		text = [#<=0:"00ff00";"7f7f7f"=>]DATA $&$ fc.CommNetCanScience() - 0.5
		position = 26.5, 3
	}

	IMAGE
	{
		name = CommNet Connected Home Tablo
		texture = MOARdV/MFD/frameFill6ch112x48
		position = 400, 152
		activeColor = COLOR_MFD2_TEXT_GREEN
		passiveColor = 128, 128, 128, 255
		colorVariable = fc.CommNetConnectedHome()
	}
	TEXT
	{
		name = CommNet Connected Home Status
		text = [#<=0:"00ff00";"7f7f7f"=>]KSC $&$ fc.CommNetConnectedHome() - 0.5
		position = 27.0, 5
	}

	IMAGE
	{
		name = Antenna Tablo
		texture = MOARdV/MFD/frameFill6ch112x48
		position = 400, 216
		activeColor = COLOR_MFD2_TEXT_GREEN
		passiveColor = 128, 128, 128, 255
		colorVariable = fc.AntennaPosition() - 3.5
	}
	TEXT
	{
		name = Antenna Status
		text = [#<=0:"00ff00";"7f7f7f"=>]ANTENNA $&$ fc.AntennaPosition() - 3.5
		fontSize = 14,32
		position = 25.5, 7
	}
	IMAGE
	{
		name = Antenna Moving Tablo
		texture = MOARdV/MFD/frameFill6ch112x48
		position = 400, 216
		passiveColor = COLOR_MFD2_TEXT_YELLOW
		variable = fc.AntennaMoving()
	}
	TEXT
	{
		name = Antenna Moving Status
		text = ANTENNA
		fontSize = 14,32
		position = 25.5, 7
		textColor = COLOR_MFD2_TEXT_YELLOW
		variable = fc.AntennaMoving()
	}
	
	IMAGE
	{
		name = Chatterer Tablo
		texture = MOARdV/MFD/frameFill6ch112x48
		position = 400, 280
		activeColor = COLOR_MFD2_TEXT_GREEN
		passiveColor = 128, 128, 128, 255
		colorVariable = chatterer.Available()
	}
	TEXT
	{
		name = Chatterer Status
		text = [#<=0:"00ff00";"7f7f7f"=>]CHATTER $&$ chatterer.Available() - 0.5
		fontSize = 14,32
		position = 25.5, 9
	}

	IMAGE
	{
		name = Tx Tablo
		texture = MOARdV/MFD/frameFill6ch112x48
		position = 400, 344
		activeColor = COLOR_MFD2_TEXT_GREEN
		passiveColor = 128, 128, 128, 255
		colorVariable = chatterer.Transmitting()
	}
	TEXT
	{
		name = Tx Status
		text = [#<=0:"00ff00";"7f7f7f"=>]XMIT $&$ chatterer.Transmitting() - 0.5
		position = 26.5, 11
	}

	IMAGE
	{
		name = Rx Tablo
		texture = MOARdV/MFD/frameFill6ch112x48
		position = 400, 408
		activeColor = COLOR_MFD2_TEXT_GREEN
		passiveColor = 128, 128, 128, 255
		colorVariable = chatterer.Receiving()
	}
	TEXT
	{
		name = Rx Status
		text = [#<=0:"00ff00";"7f7f7f"=>]RECV $&$ chatterer.Receiving() - 0.5
		position = 26.5, 13
	}
}

MAS_PAGE
{
	// TABLEAUX
	name =  MAS_DM_3

	// x RCS
	// x SAS
	// x LIGHT
	// x BRAKE
	// x GEAR
	// x WARP
	// x SOI
	// DOCK
	// NODE
	// TARGET
	// LINK
	// ORBIT
	// MECHJEB
	// KAC
	// CHATTERER
	// REALCHUTE
	// MechJeb ACTIVE
	// MechJeb L.COMP
	// MechJeb SASS
	// MechJeb AutopilotActive PILOT
	// MechJeb MNVR
	// MechJeb RNDZ
	// MechJeb ASC
	// MechJeb LAND
	// x FUEL
	// OXIDIZER
	// MONOPROP
	// POWER
	// ABLATOR
	// ENGINE
	// ARM CHUTE
	// SOLAR ARRAY DMG
	// COMM DMG
	// IMPACT
	// SUBORB
	

	// Tablos column 0
	IMAGE
	{
		name = RCS Tablo
		texture = MOARdV/MFD/frameFill6ch112x48
		position = 8, 24
		activeColor = COLOR_MFD2_TEXT_GREEN
		passiveColor = 128, 128, 128, 255
		colorVariable = fc.GetRCS()
	}
	TEXT
	{
		name = RCS Status
		text = [#<=0:"00ff00";"7f7f7f"=>]RCS $&$ fc.GetRCS() - 0.5
		position = 2.5, 1
	}

	IMAGE
	{
		name = SAS Tablo
		texture = MOARdV/MFD/frameFill6ch112x48
		position = 8, 88
		activeColor = COLOR_MFD2_TEXT_GREEN
		passiveColor = 128, 128, 128, 255
		colorVariable = fc.GetSAS()
	}
	TEXT
	{
		name = SAS Status
		text = [#<=0:"00ff00";"7f7f7f"=>]SAS $&$ fc.GetSAS() - 0.5
		position = 2.5, 3
	}

	IMAGE
	{
		name = LIGHT Tablo
		texture = MOARdV/MFD/frameFill6ch112x48
		position = 8, 152
		activeColor = COLOR_MFD2_TEXT_GREEN
		passiveColor = 128, 128, 128, 255
		colorVariable = fc.GetLights()
	}
	TEXT
	{
		name = LIGHT Status
		text = [#<=0:"00ff00";"7f7f7f"=>]LIGHT $&$ fc.GetLights() - 0.5
		position = 1.5, 5
	}

	IMAGE
	{
		name = BRAKE Tablo
		texture = MOARdV/MFD/frameFill6ch112x48
		position = 8, 216
		activeColor = COLOR_MFD2_TEXT_GREEN
		passiveColor = 128, 128, 128, 255
		colorVariable = fc.GetBrakes()
	}
	TEXT
	{
		name = BRAKE Status
		text = [#<=0:"00ff00";"7f7f7f"=>]BRAKE $&$ fc.GetBrakes() - 0.5
		position = 1.5, 7
	}
	
	IMAGE
	{
		name = GEAR Tablo
		texture = MOARdV/MFD/frameFill6ch112x48
		position = 8, 280
		activeColor = COLOR_MFD2_TEXT_GREEN
		passiveColor = 128, 128, 128, 255
		colorVariable = fc.GetGear()
	}
	TEXT
	{
		name = GEAR Status
		text = [#<=0:"00ff00";"7f7f7f"=>]GEAR $&$ fc.GetGear() - 0.5
		position = 2.0, 9
	}

	IMAGE
	{
		name = WARP Tablo
		texture = MOARdV/MFD/frameFill6ch112x48
		position = 8, 344
		activeColor = COLOR_MFD2_TEXT_GREEN
		passiveColor = 128, 128, 128, 255
		colorVariable = fc.WarpRate() - 1
	}
	TEXT
	{
		name = WARP Status
		text = [#<=0:"00ff00";"7f7f7f"=>]WARP $&$ fc.WarpRate() - 1.5
		position = 2.0, 11
	}

	IMAGE
	{
		name = SoI Tablo
		texture = MOARdV/MFD/frameFill6ch112x48
		position = 8, 408
		activeColor = COLOR_MFD2_TEXT_GREEN
		passiveColor = 128, 128, 128, 255
		colorVariable = fc.Abs(fc.NextSoI())
	}
	TEXT
	{
		name = SoI Status
		text = [#<=0:"00ff00";"7f7f7f"=>]SOI $&$ fc.Abs(fc.NextSoI()) - 0.5
		position = 2.5, 13
	}
	
	// Tablos column 1
	IMAGE
	{
		name = CommNet Communicate Tablo
		texture = MOARdV/MFD/frameFill6ch112x48
		position = 136, 24
		activeColor = COLOR_MFD2_TEXT_GREEN
		passiveColor = 128, 128, 128, 255
		colorVariable = fc.GetRCS()
	}
	TEXT
	{
		name = CommNet Communicate Status
		text = [#<=0:"00ff00";"7f7f7f"=>]------ $&$ fc.GetRCS() - 0.5
		position = 9.0, 1
	}

	IMAGE
	{
		name = CommNet Science Tablo
		texture = MOARdV/MFD/frameFill6ch112x48
		position = 136, 88
		activeColor = COLOR_MFD2_TEXT_GREEN
		passiveColor = 128, 128, 128, 255
		colorVariable = fc.GetRCS()
	}
	TEXT
	{
		name = CommNet Science Status
		text = [#<=0:"00ff00";"7f7f7f"=>]------ $&$ fc.GetRCS() - 0.5
		position = 9.0, 3
	}

	IMAGE
	{
		name = CommNet Connected Home Tablo
		texture = MOARdV/MFD/frameFill6ch112x48
		position = 136, 152
		activeColor = COLOR_MFD2_TEXT_GREEN
		passiveColor = 128, 128, 128, 255
		colorVariable = fc.GetRCS()
	}
	TEXT
	{
		name = CommNet Connected Home Status
		text = [#<=0:"00ff00";"7f7f7f"=>]------ $&$ fc.GetRCS() - 0.5
		position = 9.0, 5
	}

	IMAGE
	{
		name = Antenna Tablo
		texture = MOARdV/MFD/frameFill6ch112x48
		position = 136, 216
		activeColor = COLOR_MFD2_TEXT_GREEN
		passiveColor = 128, 128, 128, 255
		colorVariable = fc.GetRCS()
	}
	TEXT
	{
		name = Antenna Status
		text = [#<=0:"00ff00";"7f7f7f"=>]------ $&$ fc.GetRCS() - 0.5
		position = 9.0, 7
	}
	
	IMAGE
	{
		name = Chatterer Tablo
		texture = MOARdV/MFD/frameFill6ch112x48
		position = 136, 280
		activeColor = COLOR_MFD2_TEXT_GREEN
		passiveColor = 128, 128, 128, 255
		colorVariable = fc.GetRCS()
	}
	TEXT
	{
		name = Chatterer Status
		text = [#<=0:"00ff00";"7f7f7f"=>]------ $&$ fc.GetRCS() - 0.5
		position = 9.0, 9
	}

	IMAGE
	{
		name = Tx Tablo
		texture = MOARdV/MFD/frameFill6ch112x48
		position = 136, 344
		activeColor = COLOR_MFD2_TEXT_GREEN
		passiveColor = 128, 128, 128, 255
		colorVariable = fc.GetRCS()
	}
	TEXT
	{
		name = Tx Status
		text = [#<=0:"00ff00";"7f7f7f"=>]------ $&$ fc.GetRCS() - 0.5
		position = 9.0, 11
	}

	IMAGE
	{
		name = Rx Tablo
		texture = MOARdV/MFD/frameFill6ch112x48
		position = 136, 408
		activeColor = COLOR_MFD2_TEXT_GREEN
		passiveColor = 128, 128, 128, 255
		colorVariable = fc.GetRCS()
	}
	TEXT
	{
		name = Rx Status
		text = [#<=0:"00ff00";"7f7f7f"=>]------ $&$ fc.GetRCS() - 0.5
		position = 9.0, 13
	}
	
	// Tablos column 2
	IMAGE
	{
		name = CommNet Communicate Tablo
		texture = MOARdV/MFD/frameFill6ch112x48
		position = 264, 24
		activeColor = COLOR_MFD2_TEXT_GREEN
		passiveColor = 128, 128, 128, 255
		colorVariable = fc.GetRCS()
	}
	TEXT
	{
		name = CommNet Communicate Status
		text = [#<=0:"00ff00";"7f7f7f"=>]------ $&$ fc.GetRCS() - 0.5
		position = 17.0, 1
	}

	IMAGE
	{
		name = CommNet Science Tablo
		texture = MOARdV/MFD/frameFill6ch112x48
		position = 264, 88
		activeColor = COLOR_MFD2_TEXT_GREEN
		passiveColor = 128, 128, 128, 255
		colorVariable = fc.GetRCS()
	}
	TEXT
	{
		name = CommNet Science Status
		text = [#<=0:"00ff00";"7f7f7f"=>]------ $&$ fc.GetRCS() - 0.5
		position = 17.0, 3
	}

	IMAGE
	{
		name = CommNet Connected Home Tablo
		texture = MOARdV/MFD/frameFill6ch112x48
		position = 264, 152
		activeColor = COLOR_MFD2_TEXT_GREEN
		passiveColor = 128, 128, 128, 255
		colorVariable = fc.GetRCS()
	}
	TEXT
	{
		name = CommNet Connected Home Status
		text = [#<=0:"00ff00";"7f7f7f"=>]------ $&$ fc.GetRCS() - 0.5
		position = 17.0, 5
	}

	IMAGE
	{
		name = Antenna Tablo
		texture = MOARdV/MFD/frameFill6ch112x48
		position = 264, 216
		activeColor = COLOR_MFD2_TEXT_GREEN
		passiveColor = 128, 128, 128, 255
		colorVariable = fc.GetRCS()
	}
	TEXT
	{
		name = Antenna Status
		text = [#<=0:"00ff00";"7f7f7f"=>]------ $&$ fc.GetRCS() - 0.5
		position = 17.0, 7
	}
	
	IMAGE
	{
		name = Chatterer Tablo
		texture = MOARdV/MFD/frameFill6ch112x48
		position = 264, 280
		activeColor = COLOR_MFD2_TEXT_GREEN
		passiveColor = 128, 128, 128, 255
		colorVariable = fc.GetRCS()
	}
	TEXT
	{
		name = Chatterer Status
		text = [#<=0:"00ff00";"7f7f7f"=>]------ $&$ fc.GetRCS() - 0.5
		position = 17.0, 9
	}

	IMAGE
	{
		name = Tx Tablo
		texture = MOARdV/MFD/frameFill6ch112x48
		position = 264, 344
		activeColor = COLOR_MFD2_TEXT_GREEN
		passiveColor = 128, 128, 128, 255
		colorVariable = fc.GetRCS()
	}
	TEXT
	{
		name = Tx Status
		text = [#<=0:"00ff00";"7f7f7f"=>]------ $&$ fc.GetRCS() - 0.5
		position = 17.0, 11
	}

	IMAGE
	{
		name = Rx Tablo
		texture = MOARdV/MFD/frameFill6ch112x48
		position = 264, 408
		activeColor = COLOR_MFD2_TEXT_GREEN
		passiveColor = 128, 128, 128, 255
		colorVariable = fc.GetRCS()
	}
	TEXT
	{
		name = Rx Status
		text = [#<=0:"00ff00";"7f7f7f"=>]------ $&$ fc.GetRCS() - 0.5
		position = 17.0, 13
	}

	// Tablos column 3
	IMAGE
	{
		name = Fuel Tablo
		texture = MOARdV/MFD/frameFill6ch112x48
		position = 392, 24
		activeColor = COLOR_MFD2_TEXT_GREEN
		passiveColor = 128, 128, 128, 255
		colorVariable = fc.PropellantStageMax()
	}
	TEXT
	{
		name = Fuel Status
		text = [#<=0:"00ff00";"7f7f7f"=>]FUEL $&$ fc.PropellantStageMax() - 0.5
		position = 26.0, 1
	}
	IMAGE
	{
		name = Fuel Warning Tablo
		texture = MOARdV/MFD/frameFill6ch112x48
		position = 392, 24
		activeColor = COLOR_MFD2_TEXT_YELLOW
		passiveColor = COLOR_MFD2_TEXT_RED
		colorVariable = fc.PropellantStageThreshold(0.1, 0.2)
		variable = fc.PropellantStageThreshold(0, 0.2)
	}
	TEXT
	{
		name = Fuel Warning Status
		text = [#<=0:"ffff00";"ff0000"=>]FUEL $&$ fc.PropellantStageThreshold(0.1, 0.2) - 0.5
		position = 26.0, 1
		variable = fc.PropellantStageThreshold(0, 0.2)
	}

	IMAGE
	{
		name = CommNet Science Tablo
		texture = MOARdV/MFD/frameFill6ch112x48
		position = 392, 88
		activeColor = COLOR_MFD2_TEXT_GREEN
		passiveColor = 128, 128, 128, 255
		colorVariable = fc.GetRCS()
	}
	TEXT
	{
		name = CommNet Science Status
		text = [#<=0:"00ff00";"7f7f7f"=>]------ $&$ fc.GetRCS() - 0.5
		position = 25.0, 3
	}

	IMAGE
	{
		name = CommNet Connected Home Tablo
		texture = MOARdV/MFD/frameFill6ch112x48
		position = 392, 152
		activeColor = COLOR_MFD2_TEXT_GREEN
		passiveColor = 128, 128, 128, 255
		colorVariable = fc.GetRCS()
	}
	TEXT
	{
		name = CommNet Connected Home Status
		text = [#<=0:"00ff00";"7f7f7f"=>]------ $&$ fc.GetRCS() - 0.5
		position = 25.0, 5
	}

	IMAGE
	{
		name = Antenna Tablo
		texture = MOARdV/MFD/frameFill6ch112x48
		position = 392, 216
		activeColor = COLOR_MFD2_TEXT_GREEN
		passiveColor = 128, 128, 128, 255
		colorVariable = fc.GetRCS()
	}
	TEXT
	{
		name = Antenna Status
		text = [#<=0:"00ff00";"7f7f7f"=>]------ $&$ fc.GetRCS() - 0.5
		position = 25.0, 7
	}
	
	IMAGE
	{
		name = Chatterer Tablo
		texture = MOARdV/MFD/frameFill6ch112x48
		position = 392, 280
		activeColor = COLOR_MFD2_TEXT_GREEN
		passiveColor = 128, 128, 128, 255
		colorVariable = fc.GetRCS()
	}
	TEXT
	{
		name = Chatterer Status
		text = [#<=0:"00ff00";"7f7f7f"=>]------ $&$ fc.GetRCS() - 0.5
		position = 25.0, 9
	}

	IMAGE
	{
		name = Tx Tablo
		texture = MOARdV/MFD/frameFill6ch112x48
		position = 392, 344
		activeColor = COLOR_MFD2_TEXT_GREEN
		passiveColor = 128, 128, 128, 255
		colorVariable = fc.GetRCS()
	}
	TEXT
	{
		name = Tx Status
		text = [#<=0:"00ff00";"7f7f7f"=>]------ $&$ fc.GetRCS() - 0.5
		position = 25.0, 11
	}

	IMAGE
	{
		name = Rx Tablo
		texture = MOARdV/MFD/frameFill6ch112x48
		position = 392, 408
		activeColor = COLOR_MFD2_TEXT_GREEN
		passiveColor = 128, 128, 128, 255
		colorVariable = fc.GetRCS()
	}
	TEXT
	{
		name = Rx Status
		text = [#<=0:"00ff00";"7f7f7f"=>]------ $&$ fc.GetRCS() - 0.5
		position = 25.0, 13
	}
}

MAS_PAGE
{
	// NAV DATA (radio + GNSS)
	name =  MAS_DM_0
	TEXT
	{
		name = dummy
		text = Navigation Page
	}
}